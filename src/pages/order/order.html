<!--
  Generated template for the OrderPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar style="opacity: 0.8" no-border-bottom color="primary" hideBackButton="true">
    <ion-buttons left>
      <button ion-button icon-only clear small navPop>
        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title style='text-align:center'>所有订单</ion-title>
  </ion-navbar>
</ion-header>


<ion-content class="bg-color">
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content pullingIcon="checkmark-circled" refreshingSpinner="circles"
                           refreshingText="下拉刷新...">
    </ion-refresher-content>
  </ion-refresher>
  <ion-list style="margin: -1px 0 15px;height: 100%" *ngIf="orders.content.length>0" no-lines
            (swipe)="swipeEvent($event)">
    <ion-item class="item item-boder" *ngFor="let item of orders.content" style="height: 87px;"
              (click)="enterDetail(item.id)">
      <ion-thumbnail item-left>
        <img src="{{item.imgurl}}">
      </ion-thumbnail>
      <h2>{{item.description |slice:0:30}}</h2>
      <p style="font-size: 11px;color: #f8285c">交易成功</p>
      <div style="color: #f8285c;font-size: 14px;" item-right>¥{{item.price}}
        <p item-end>x{{item.number}}</p>
      </div>
    </ion-item>
  </ion-list>
  <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
    <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="下拉加载更多数据...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>
