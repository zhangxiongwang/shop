{"version":3,"sources":["../../src/pages/contact/contact.module.ts","../../src/components/components.module.ts","../../src/components/ion-products/ion-products.ts","../../src/components/image-selector/image-selector.ts","../../src/components/img-lazy-load/img-lazy-load.ts","../../src/pages/contact/contact.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { ComponentsModule } from './../../components/components.module';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ContactPage } from './contact';\n\n@NgModule({\n  declarations: [\n    ContactPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ContactPage),ComponentsModule\n  ],\n})\nexport class ContactPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact/contact.module.ts","import {IonicModule} from 'ionic-angular';\nimport {NgModule} from '@angular/core';\nimport {IonProductsComponent} from './ion-products/ion-products';\nimport {ImageSelectorComponent} from './image-selector/image-selector';\nimport { ImgLazyLoadComponent } from './img-lazy-load/img-lazy-load';\n\n@NgModule({\n  declarations: [IonProductsComponent,\n    ImageSelectorComponent,\n    ImgLazyLoadComponent,\n  ],\n  imports: [\n    IonicModule\n  ],\n  exports: [IonProductsComponent,\n    ImageSelectorComponent,\n    ImgLazyLoadComponent,\n  ]\n})\nexport class ComponentsModule {\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { NavController } from 'ionic-angular';\nimport { Component, Input } from '@angular/core';\n@Component({\n  selector: 'ion-products',\n  templateUrl: 'ion-products.html'\n})\nexport class IonProductsComponent {\n  @Input() products: Array<any>;\n  constructor(public navCtrl: NavController) {\n    console.log('Hello IonProducts Component');\n  }\n  goDetails(item) {\n    this.navCtrl.push('ProductDetailsPage', { item: item });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ion-products/ion-products.ts","import {Component, Input, Output, EventEmitter, ElementRef, ViewChild} from '@angular/core';\nimport {ModalController} from 'ionic-angular';\n\nexport interface IImageObj {\n  id: string;\n  originPath: string;\n  thumbPath?: string;\n  name?: string;\n}\n/**\n * Generated class for the ImageSelecterComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'image-selector',\n  templateUrl: 'image-selector.html'\n})\nexport class ImageSelectorComponent {\n\n  @Input() max: number = 9;  //最多可选择多少张图片，默认为4张\n\n  @Input() canAdd: boolean = true;  //是否允许新增\n  @Input() canDelete: boolean = true;  //是否允许删除\n  @Input() images: IImageObj[] = [];   //图片列表,与fileObjListChange形成双向数据绑定\n\n  @Output() addImage = new EventEmitter<any>();\n  @Output() selectChanged = new EventEmitter<any>();\n\n  width: string;\n  @ViewChild('addImage') img: ElementRef;\n\n  constructor(public modalCtrl: ModalController) {\n  }\n\n  onAddImage() {//新增照片\n    this.addImage.emit();\n  }\n\n  ngAfterViewChecked() {\n    this.width = this.img.nativeElement.width + 'px';\n  }\n\n  //照片预览\n  onViewImages(index: number) {\n    //以下代码自行调整\n    let imgCopies = JSON.parse(JSON.stringify(this.images));    //复制对象，以免内部修改了对象\n    let modal = this.modalCtrl.create('ImageViewerPage', {\n      selectedIndex: index,\n      images: imgCopies,\n      canEdit: this.canDelete\n    });\n    modal.onDidDismiss(data => {\n      if (data) {\n        this.images = data;\n        this.selectChanged.emit(data);\n      }\n    });\n    modal.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/image-selector/image-selector.ts","import {Component, Input} from '@angular/core';\n\n/**\n * Generated class for the ImgLazyLoadComponent component.\n *\n * See https://angular.io/api/core/Component for more info on Angular\n * Components.\n */\n@Component({\n  selector: 'img-lazy-load',\n  templateUrl: 'img-lazy-load.html'\n})\nexport class ImgLazyLoadComponent {\n\n  default: string = 'assets/person.jpg';\n\n  constructor() {\n\n  }\n\n  @Input() src: string //要显示的图片\n\n  ngOnInit() {\n    let img = new Image();\n    img.src = this.src;\n    img.onload = () => {\n      //这里为了达到演示效果给了两秒的延迟，实际使用中不需要延迟\n      // setTimeout(() => {\n      this.default = this.src;\n      // }, 2000)\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/img-lazy-load/img-lazy-load.ts","import {AppGlobal, AppService} from './../../app/app.service';\nimport {Component, ViewChild} from '@angular/core';\nimport {NavController, IonicPage} from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-contact',\n  templateUrl: 'contact.html'\n})\nexport class ContactPage {\n\n  @ViewChild('scroll') scrollElement: any;\n  @ViewChild('spinner') spinnerElement: any;\n\n  categories: Array<any> = [];\n  selectedMenuTarget: any;\n  products: Array<any> = [];\n  hasmore = false;\n  islock = false;\n\n  params = {\n    favoritesId: 0,\n    pageNo: 0\n  }\n\n  constructor(public navCtrl: NavController, public appService: AppService) {\n  }\n\n  ionViewDidLoad() {\n    this.getCategories();\n    this.addScrollEventListener();\n  }\n\n  addScrollEventListener() {\n    this.scrollElement._scrollContent.nativeElement.onscroll = event => {\n      if (this.spinnerElement) {\n        //元素顶端到可见区域顶端的距离\n        var top = this.spinnerElement.nativeElement.getBoundingClientRect().top;\n        //可见区域高度\n        var clientHeight = document.documentElement.clientHeight;\n        if (top <= clientHeight) {\n          console.log(\"ready loadmore...\");\n          this.doInfinite();\n        }\n      }\n    }\n  }\n\n  // 获取左侧菜单\n  getCategories() {\n    this.appService.httpGet(AppGlobal.API.getCategories, null, rs => {\n      console.debug(rs);\n      this.categories = rs.data;\n      //默认获取第一个分类的商品列表\n      this.params.favoritesId = this.categories[0].favoritesid;\n      this.getProducts();\n    })\n  }\n\n  // 选中左侧菜单\n  itemClick(c, event) {\n    var initSelected: any = document.getElementsByClassName('menuItem');\n    if (initSelected[0].classList.contains(\"active\")) {\n      initSelected[0].classList.remove(\"active\")\n    }\n\n    //移除上次选中菜单的样式\n    if (this.selectedMenuTarget) {\n      this.selectedMenuTarget.classList.remove(\"active\")\n    }\n\n    //修改本次选中菜单的样式\n    event.currentTarget.classList.add(\"active\");\n\n    //将本次选中的菜单记录\n    this.selectedMenuTarget = event.currentTarget;\n\n    this.hasmore = true;\n\n    this.params.favoritesId = c.favoritesid;\n    this.params.pageNo = 1;\n    this.getProducts();\n  }\n\n  getProducts() {\n    this.appService.httpGet(AppGlobal.API.getProducts, this.params, rs => {\n      this.products = rs.content;\n      this.params.pageNo += 1;\n      if (rs.last == false) {\n        this.hasmore = true;\n      }\n    })\n  }\n\n  doInfinite() {\n    if (this.islock) {\n      return;\n    }\n    if (this.hasmore == false) {\n      return;\n    }\n    this.islock = true;\n    this.appService.httpGet(AppGlobal.API.getProducts, this.params, d => {\n      this.islock = false;\n      if (d.content.length > 0) {\n        this.products = this.products.concat(d.content);\n        this.params.pageNo += 1;\n      } else {\n        this.hasmore = false;\n        console.log(\"没有数据啦！\")\n      }\n    });\n  }\n\n  goDetails(item) {\n    this.navCtrl.push('ProductDetailsPage', {item: item});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact/contact.ts"],"sourceRoot":""}