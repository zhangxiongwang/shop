{"version":3,"sources":["../../src/pages/product-details/product-details.module.ts","../../src/pages/product-details/product-details.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {ProductDetailsPage} from './product-details';\n\n\n@NgModule({\n  declarations: [\n    ProductDetailsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProductDetailsPage),\n  ],\n})\nexport class ProductDetailsPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/product-details/product-details.module.ts","'use strict';\nimport {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams} from 'ionic-angular';\nimport {AppGlobal, AppService} from './../../app/app.service';\nimport {NativeProvider} from './../../providers/native/native';\nimport {Storage} from '@ionic/storage';\nimport {PhotoViewer} from '@ionic-native/photo-viewer';\n\n@IonicPage()\n@Component({\n  selector: 'page-product-details',\n  templateUrl: 'product-details.html',\n})\nexport class ProductDetailsPage {\n  selectedItem: any;\n  imgs: any;\n  len: any;\n  username;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public http: AppService,\n              public native: NativeProvider, public storage: Storage, private photoViewer: PhotoViewer) {\n    this.selectedItem = this.navParams.get(\"item\");\n    console.log(this.selectedItem);\n    if (this.selectedItem.images) {\n      this.imgs = this.selectedItem.images;\n      this.len = this.imgs.length;\n    }\n    this.username = AppGlobal.user.username;\n    this.markDown();\n  }\n\n  // 记录历史记录\n  markDown() {\n    let guessLike = {\n      markdown: 1,\n      clothesid: this.selectedItem.id,\n      username: this.username\n    }\n    this.http.httpPost('/saveGuessLike', guessLike, val => {\n      console.log('记录成功')\n    })\n  }\n\n  // 点击图片放大\n  bigImg(imgUrl) {\n    this.photoViewer.show(imgUrl);\n  }\n\n  // 进入购物车页面\n  goCart() {\n    this.native.queryById([this.selectedItem.id, this.username]).then((val) => {\n      if (val.length > 0) {\n        this.navCtrl.push('CartPage', {showBack: true});\n        return;\n      } else {\n        let datetime: string = new Date().toISOString();\n        this.native.insert([this.username, \"待提交\", this.selectedItem.id, this.selectedItem.title, this.selectedItem.picturl, 1, datetime, this.selectedItem.zkfinalprice]).then(val => {\n          this.navCtrl.push('CartPage', {showBack: true});\n        })\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/product-details/product-details.ts"],"sourceRoot":""}